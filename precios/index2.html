<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#121212">
    <title>Dr. Xiaomi</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* -------------------- VARIABLES -------------------- */
        :root {
            --bg-main: #07090d;
            --bg-card: #0e1017;
            --bg-soft: rgba(255,255,255,0.05);
            --text-main: #ffffff;
            --text-sec: #b8b8b8;

            --accent: #ff7b00;
            --success: #28d67f;

            --radius: 14px;
            --radius-lg: 20px;

            --bottom-height: 70px;
        }

        /* -------------------- GLOBAL -------------------- */
        * {
            box-sizing: border-box;
        }

        html, body {
            margin: 0;
            padding: 0;
            background: linear-gradient(180deg, #0a0b10 0%, #04050a 100%);
            color: var(--text-main);
            font-family: system-ui, sans-serif;
            min-height: 100vh;
            overflow-y: auto; /* ← SCROLL FUNCIONANDO */
        }

        body {
            display: block;
        }

        .app {
            max-width: 480px;
            margin: 0 auto;
            min-height: 100vh;
            padding-bottom: calc(var(--bottom-height) + 20px); /* ESPACIO SCROLL */
            position: relative;
        }

        /* -------------------- TOP BAR -------------------- */
        .top {
            position: sticky;
            top: 0;
            background: rgba(7, 9, 13, 0.9);
            backdrop-filter: blur(12px);
            padding: 12px 14px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 20;
        }

        .top-title {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo {
            width: 32px;
            height: 32px;
            border-radius: 10px;
            background: linear-gradient(135deg, #ff8a00, #ff4d00);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
        }

        .top-text small {
            display: block;
            font-size: 11px;
            color: var(--text-sec);
        }

        .chip {
            background: var(--bg-soft);
            padding: 5px 10px;
            border-radius: 999px;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .icon-btn {
            width: 32px;
            height: 32px;
            border: 1px solid var(--bg-soft);
            background: rgba(255,255,255,0.03);
            border-radius: 999px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        /* -------------------- SEARCH CARD -------------------- */
        .search {
            margin: 12px;
            background: var(--bg-card);
            border-radius: var(--radius-lg);
            padding: 12px;
            border: 1px solid rgba(255,255,255,0.05);
        }

        .search-row {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .search-wrap {
            position: relative;
            flex: 1;
        }

        .search-wrap i {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-sec);
            font-size: 13px;
        }

        .search-input {
            width: 100%;
            padding: 10px 12px 10px 34px;
            border-radius: var(--radius);
            border: 1px solid rgba(255,255,255,0.08);
            background: rgba(0,0,0,0.35);
            color: var(--text-main);
        }

        .btn-clean {
            background: linear-gradient(135deg, #ff7b00, #ff4d00);
            border-radius: var(--radius);
            border: none;
            padding: 10px 12px;
            color: #fff;
            cursor: pointer;
            font-size: 12px;
            font-weight: 600;
        }

        /* -------------------- TABLE -------------------- */
        .table-card {
            margin: 12px;
            background: var(--bg-card);
            border-radius: var(--radius-lg);
            border: 1px solid rgba(255,255,255,0.05);
            overflow: hidden;
        }

        .table-header {
            padding: 10px 14px;
            font-size: 12px;
            letter-spacing: 0.06em;
            color: var(--text-sec);
            display: flex;
            justify-content: space-between;
        }

        .lock-badge {
            background: rgba(255,255,255,0.05);
            padding: 4px 8px;
            border-radius: 999px;
            display: flex;
            font-size: 10px;
            gap: 4px;
            align-items: center;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 12px;
        }

        thead {
            background: rgba(255,255,255,0.03);
        }

        th, td {
            padding: 10px 12px;
            text-align: left;
        }

        tbody tr:nth-child(even) {
            background: rgba(255,255,255,0.03);
        }

        .price {
            font-weight: 600;
        }

        .venta {
            color: var(--success);
        }

        .compra {
            color: #ffbb55;
        }

        /* columnas secretas */
        .secret {
            display: none;
        }

        body.show-secret .secret {
            display: table-cell;
        }

        /* -------------------- FOOTER BAR -------------------- */
        .footer {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 480px;
            height: var(--bottom-height);
            background: rgba(10,10,15,0.95);
            backdrop-filter: blur(12px);
            border-top: 1px solid rgba(255,255,255,0.06);
            display: flex;
            align-items: center;
            justify-content: space-around;
            z-index: 50;
        }

        .footer-btn {
            background: none;
            border: none;
            color: var(--text-sec);
            font-size: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
        }

        .footer-btn i {
            font-size: 18px;
        }

        .footer-btn.active {
            color: var(--accent);
        }

        /* -------------------- MODAL -------------------- */
        .modal-bg {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.65);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 100;
            backdrop-filter: blur(6px);
        }

        .modal-bg.show {
            display: flex;
        }

        .modal {
            width: 85%;
            max-width: 340px;
            padding: 18px;
            border-radius: var(--radius-lg);
            background: var(--bg-card);
            border: 1px solid rgba(255,255,255,0.1);
        }

        .modal-title {
            font-size: 15px;
            margin-bottom: 6px;
            font-weight: 600;
        }

        .modal p {
            font-size: 12px;
            color: var(--text-sec);
        }

        .pin {
            width: 100%;
            padding: 10px;
            border-radius: var(--radius);
            background: rgba(0,0,0,0.4);
            border: 1px solid rgba(255,255,255,0.15);
            text-align: center;
            color: #fff;
            margin-top: 10px;
            font-size: 16px;
            letter-spacing: 4px;
        }

        .modal-actions {
            display: flex;
            gap: 10px;
            margin-top: 14px;
        }

        .btn {
            flex: 1;
            padding: 10px;
            border-radius: var(--radius);
            cursor: pointer;
            border: none;
            font-size: 12px;
        }

        .btn-cancel {
            background: rgba(255,255,255,0.07);
            color: #fff;
            border: 1px solid rgba(255,255,255,0.08);
        }

        .btn-ok {
            background: linear-gradient(135deg, #ff7b00, #ff4d00);
            color: #fff;
        }

        .error {
            color: #ff5f5f;
            font-size: 12px;
            margin-top: 4px;
            text-align: center;
        }
    </style>
</head>


<body>
<div class="app">

    <!-- TOP BAR -->
    <div class="top">
        <div class="top-title">
            <div class="logo">DX</div>
            <div class="top-text">
                <strong>Dr. Xiaomi</strong>
                <small>Pantallas y precios</small>
            </div>
        </div>

        <div style="display:flex;gap:8px;">
            <div class="chip"><i class="fa fa-circle-check"></i> Online</div>
            <button class="icon-btn" id="openPin"><i class="fa fa-lock"></i></button>
        </div>
    </div>

    <!-- BUSCADOR -->
    <div class="search">
        <div class="search-row">
            <div class="search-wrap">
                <i class="fa fa-search"></i>
                <input type="text" id="searchInput" class="search-input" placeholder="Buscar modelo…">
            </div>
            <button class="btn-clean" id="clearInput">Limpiar</button>
        </div>
    </div>

    <!-- TABLA -->
    <div class="table-card">
        <div class="table-header">
            <span>LISTADO DE PANTALLAS</span>
            <div class="lock-badge" id="lockState">
                <i class="fa fa-lock"></i> Oculto
            </div>
        </div>

        <table id="tabla">
            <thead>
            <tr>
                <th>Modelo</th>
                <th>Serie</th>
                <th>Venta</th>
                <th class="secret">Compra</th>
                <th class="secret">Proveedor</th>
            </tr>
            </thead>

            <tbody>
            <tr>
                <td>Redmi Note 8</td>
                <td>RN8-001</td>
                <td class="price venta">Bs 280</td>
                <td class="price compra secret">Bs 160</td>
                <td class="secret">Prov A</td>
            </tr>
            <tr>
                <td>Redmi Note 8 Pro</td>
                <td>RN8P-002</td>
                <td class="price venta">Bs 320</td>
                <td class="price compra secret">Bs 190</td>
                <td class="secret">Prov B</td>
            </tr>
            <tr>
                <td>Redmi 9C</td>
                <td>R9C-003</td>
                <td class="price venta">Bs 260</td>
                <td class="price compra secret">Bs 150</td>
                <td class="secret">Prov C</td>
            </tr>

            <tr>
                <td>Poco X3 Pro</td>
                <td>PX3P-004</td>
                <td class="price venta">Bs 380</td>
                <td class="price compra secret">Bs 230</td>
                <td class="secret">Prov D</td>
            </tr>

            <tr>
                <td>Mi 11 Lite</td>
                <td>M11L-005</td>
                <td class="price venta">Bs 420</td>
                <td class="price compra secret">Bs 260</td>
                <td class="secret">Prov E</td>
            </tr>

            <tr>
                <td>Redmi 10</td>
                <td>R10</td>
                <td class="price venta">Bs 300</td>
                <td class="price compra secret">Bs 185</td>
                <td class="secret">Prov F</td>
            </tr>

            </tbody>
        </table>
    </div>

    <!-- FOOTER -->
    <div class="footer">
        <button class="footer-btn active"><i class="fa fa-table"></i>Pantallas</button>
        <button class="footer-btn"><i class="fa fa-box"></i>Stock</button>
        <button class="footer-btn" id="openPin2"><i class="fa fa-lock"></i>Costos</button>
        <button class="footer-btn"><i class="fa fa-gear"></i>Ajustes</button>
    </div>

</div>

<!-- MODAL -->
<div class="modal-bg" id="modalPin">
    <div class="modal">
        <div class="modal-title">Desbloquear costos</div>
        <p>Ingresa tu PIN para ver las columnas de compra y proveedor.</p>

        <input type="password" id="pinInput" class="pin" maxlength="6" placeholder="••••••">
        <div id="pinError" class="error"></div>

        <div class="modal-actions">
            <button class="btn btn-cancel" id="cancelPin">Cancelar</button>
            <button class="btn btn-ok" id="unlockBtn">Desbloquear</button>
        </div>
    </div>
</div>

<script>
    const PIN = "1234"; // TU PIN

    const modal = document.getElementById("modalPin");
    const open1 = document.getElementById("openPin");
    const open2 = document.getElementById("openPin2");
    const cancel = document.getElementById("cancelPin");
    const unlockBtn = document.getElementById("unlockBtn");
    const pinInput = document.getElementById("pinInput");
    const pinError = document.getElementById("pinError");
    const lockState = document.getElementById("lockState");


    function openModal() {
        modal.classList.add("show");
        pinError.textContent = "";
        pinInput.value = "";
        setTimeout(() => pinInput.focus(), 150);
    }
    function closeModal() {
        modal.classList.remove("show");
    }

    open1.onclick = openModal;
    open2.onclick = openModal;
    cancel.onclick = closeModal;

    unlockBtn.onclick = () => {
        if (pinInput.value === PIN) {
            document.body.classList.add("show-secret");
            lockState.innerHTML = "<i class='fa fa-unlock'></i> Visible";
            closeModal();
        } else {
            pinError.textContent = "PIN incorrecto";
        }
    };

    // Buscador
    const searchInput = document.getElementById("searchInput");
    const clearInput = document.getElementById("clearInput");
    const rows = document.querySelectorAll("tbody tr");

    searchInput.addEventListener("input", () => {
        const term = searchInput.value.toLowerCase();
        rows.forEach(r => {
            r.style.display = r.innerText.toLowerCase().includes(term) ? "" : "none";
        });
    });

    clearInput.onclick = () => {
        searchInput.value = "";
        rows.forEach(r => r.style.display = "");
    };
</script>

</body>
</html>
